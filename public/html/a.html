<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gestión de Productos</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Font Awesome -->
  <link rel="stylesheet" href="./css/admin.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- jQuery -->
</head>
<style>
  /* Estilos del modal */
  .modal {
    display: none; /* Inicialmente oculto */
    
  }
  </style>
<body>
  <h1>Agregar Nuevo Producto <i class="fas fa-plus-circle"></i></h1>

  <form id="productForm" enctype="multipart/form-data">
    <div>
      <label for="name">Nombre:</label>
      <input type="text" id="name" name="name" required>
    </div>
    <div>
      <label for="price">Precio:</label>
      <input type="number" id="price" name="price" step="0.01" required>
    </div>
    <div>
      <label for="stock">Stock:</label>
      <input type="number" id="stock" name="stock" required>
    </div>
    <div>
      <label for="category">Categoría:</label>
      <input type="text" id="category" name="category" required>
    </div>
    <div>
      <label for="description">Descripción:</label>
      <textarea id="description" name="description" required></textarea>
    </div>
    <div>
      <label for="image">Imagen:</label>
      <input type="file" id="image" name="image" accept="image/*">
    </div>
    <button type="submit"><i class="fas fa-save"></i> Agregar Producto</button>
  </form>

  <h2>Lista de Productos <i class="fas fa-list"></i></h2>
  <input type="text" id="searchInput" placeholder="Buscar por nombre..." onkeyup="searchProducts()">
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Precio</th>
        <th>Stock</th>
        <th>Categoría</th>
        <th>Descripción</th>
        <th>Imagen</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody id="productTableBody"></tbody>
  </table>

 <!-- MODAL DE EDICIÓN -->
<div id="editModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h2><i class="fas fa-edit"></i> Editar Producto</h2>
    <form id="editForm">
      <input type="hidden" id="editId">
      <div>
        <label for="editName">Nombre:</label>
        <input type="text" id="editName" required>
      </div>
      <div>
        <label for="editPrice">Precio:</label>
        <input type="number" id="editPrice" step="0.01" required>
      </div>
      <div>
        <label for="editStock">Stock:</label>
        <input type="number" id="editStock" required>
      </div>
      <div>
        <label for="editCategory">Categoría:</label>
        <input type="text" id="editCategory" required>
      </div>
      <div>
        <label for="editDescription">Descripción:</label>
        <textarea id="editDescription" required></textarea>
      </div>
      <div>
        <label for="editImage">Imagen:</label>
        <input type="file" id="editImage" name="image" accept="image/*">
        <!-- Vista previa de la imagen (solo si existe) -->
        <img id="editImagePreview" src="" style="display:none; width: 100px; margin-top: 10px;">
      </div>
      <button type="submit"><i class="fas fa-check-circle"></i> Guardar Cambios</button>
    </form>
  </div>
</div>


  <script src="./js/admin.js"></script>
  <script>
    // jQuery para animación de los elementos
    $(document).ready(function() {
      // Mostrar el modal de edición con animación
      $('#editModal').fadeIn();
      
      // Cuando se hace hover sobre las filas de la tabla, cambiar el color de fondo
      $('table tr').hover(
        function() {
          $(this).css('background-color', '#333');
        }, function() {
          $(this).css('background-color', '');
        }
      );

      // Para hacer que el formulario se resalte al hacer hover
      $('form').hover(
        function() {
          $(this).css('box-shadow', '0px 0px 20px rgba(0, 170, 255, 0.5)');
        }, function() {
          $(this).css('box-shadow', '');
        }
      );
    });
  </script>
</body>
</html>
