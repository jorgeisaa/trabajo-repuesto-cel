<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transacciones - Control de Negocio de Repuestos</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1>Control de Negocio de Repuestos</h1>
        <nav>
            <ul>
                <li><a href="./inicio.html" onclick="loadPage()">Inicio</a></li>
                <li><a href="./inventario.html" onclick="loadPage('inventario')">Inventario</a></li>
                <li><a href="./ventas.html" onclick="loadPage('ventas')">Ventas</a></li>
                <li><a href="./proveedores.html" onclick="loadPage('proveedores')">Proveedores</a></li>
                <li><a href="./transacciones.html" onclick="loadPage('transacciones')">Transacciones</a></li>
                <li><a href="./facturas.html" onclick="loadPage('facturas')">Facturas</a></li>
                <li><a href="./empleado.html" >empleados</a></li>
                <li><a href="./cliente.html" onclick="loadPage('cliente')">cliente</a></li>
            </ul>
        </nav>
    </header>

    <main id="content">
        <!-- Sección de Transacciones -->
        <section id="transactions-section">
            <h2>Registrar Transacción</h2>
            <form id="transaction-form" onsubmit="addTransaction(event)">
                <label for="transaction-type">Tipo de Transacción:</label>
                <select id="transaction-type" required>
                    <option value="ingreso">Ingreso</option>
                    <option value="egreso">Egreso</option>
                </select>

                <label for="amount">Monto:</label>
                <input type="number" id="amount" required>

                <label for="description">Descripción:</label>
                <input type="text" id="description" required>

                <button type="submit">Registrar</button>
            </form>

            <h3>Historial de Transacciones</h3>
            <table id="transactions-table">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Tipo</th>
                        <th>Monto</th>
                        <th>Descripción</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí se llenará dinámicamente con las transacciones -->
                </tbody>
            </table>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Control de Negocio de Repuestos</p>
            <p><a href="mailto:soporte@repuestos.com">Contacta con soporte</a></p>
        </div>
    </footer>

    <script src="js/app.js"></script> <!-- Asegúrate de tener tu archivo JS -->
    <script>
        let transactions = []; // Aquí se almacenan las transacciones registradas

        // Función para agregar una transacción
        function addTransaction(event) {
            event.preventDefault(); // Prevenir el comportamiento por defecto del formulario

            const transactionType = document.getElementById('transaction-type').value;
            const amount = document.getElementById('amount').value;
            const description = document.getElementById('description').value;

            // Crear un objeto para la transacción
            const newTransaction = {
                type: transactionType,
                amount: parseFloat(amount),
                description: description,
                date: new Date().toLocaleString() // Fecha actual
            };

            // Agregar la transacción al array
            transactions.push(newTransaction);

            // Limpiar los campos del formulario
            document.getElementById('amount').value = '';
            document.getElementById('description').value = '';

            // Actualizar la tabla de transacciones
            updateTransactionsTable();
        }

        // Función para actualizar la tabla de transacciones
        function updateTransactionsTable() {
            const tbody = document.getElementById('transactions-table').getElementsByTagName('tbody')[0];
            tbody.innerHTML = ''; // Limpiar la tabla

            transactions.forEach(transaction => {
                const row = document.createElement('tr');

                const dateCell = document.createElement('td');
                dateCell.textContent = transaction.date;
                row.appendChild(dateCell);

                const typeCell = document.createElement('td');
                typeCell.textContent = transaction.type === 'ingreso' ? 'Ingreso' : 'Egreso';
                row.appendChild(typeCell);

                const amountCell = document.createElement('td');
                amountCell.textContent = `$${transaction.amount.toFixed(2)}`;
                row.appendChild(amountCell);

                const descriptionCell = document.createElement('td');
                descriptionCell.textContent = transaction.description;
                row.appendChild(descriptionCell);

                tbody.appendChild(row);
            });
        }

        // Inicializar la página con datos de ejemplo
        window.onload = function() {
            updateTransactionsTable();
        };
    </script>
</body>
</html>
